+++
mt_entry_id = 164
date = "2007-07-03T20:05:55+09:00"
title = "tracのbrowse sourceでphpファイルの内容を表示させる"
categories = []

+++

tracで自分のコードを確認していて気づいたが、phpファイルがブラウズ出来ない。ダウンロードしますかとか言われる。普段phpなんて書かないから、今まで気づかなかった。<br />
<br />
コードが表示されるはずの場所には以下の一文が。<br />
<blockquote>got a Dynamic php code.</blockquote><br />
そうだよphpだよいいから表示しろよ。と憤っても仕方ないので、対応してみた。<a href="http://trac.edgewall.org/wiki/TracFaq#why-do-my-php-pages-show-up-blank-in-the-browser">TracFaq - The Trac Project - Trac</a><br />
本家のFAQページにきちんと書いてあった。<br />
まず、スタンドアローンのphpを入れるらしい。<br />
<br />
<pre class="code">$ sudo aptitude install php5-cli</pre><br />
<br />
最初どれを入れればよいのか分からなかったが、これらしい。<br />
それからtrac.iniにphpのパスを書く。書かなくても動いた気がしたけど、一応書いておく。<br />
<br />
<pre class="code">[mimeviewer]<br />
enscript_path = enscript<br />
php_path = /usr/bin/php</pre><br />
<br />
おお、無事にphpファイルの中身が表示された上に、色までつきやがった。いわゆるシンタックスハイライトってやつだ。<br />
どうやら隣のenscriptというやつも設定してやれば、同様に他の種類のファイルもシンタックスハイライターしてくれるっぽいので、ついでにインストールしてやる。<br />
<br />
<pre class="code">$ sudo aptitude install enscript</pre><br />
<br />
これも一応パスを書く。<br />
<br />
<pre class="code">[mimeviewer]<br />
enscript_path = /usr/bin/enscript<br />
php_path = /usr/bin/php</pre><br />
<br />
色のカスタマイズ等は、code.cssを自分で弄るみたい。細かいことはtracの初期ページにきちんと書いてあった。tracはドキュメントがしっかりしてるなあ。おしまい。