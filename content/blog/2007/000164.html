+++
mt_entry_id = 164
date = "2007-07-03T20:05:55+09:00"
title = "tracのbrowse sourceでphpファイルの内容を表示させる"
categories = []

+++

tracで自分のコードを確認していて気づいたが、phpファイルがブラウズ出来ない。ダウンロードしますかとか言われる。普段phpなんて書かないから、今まで気づかなかった。

コードが表示されるはずの場所には以下の一文が。
<blockquote>got a Dynamic php code.</blockquote>
そうだよphpだよいいから表示しろよ。と憤っても仕方ないので、対応してみた。<!--more--><a href="http://trac.edgewall.org/wiki/TracFaq#why-do-my-php-pages-show-up-blank-in-the-browser">TracFaq - The Trac Project - Trac</a>
本家のFAQページにきちんと書いてあった。
まず、スタンドアローンのphpを入れるらしい。

<pre class="code">$ sudo aptitude install php5-cli</pre>

最初どれを入れればよいのか分からなかったが、これらしい。
それからtrac.iniにphpのパスを書く。書かなくても動いた気がしたけど、一応書いておく。

<pre class="code">[mimeviewer]
enscript_path = enscript
php_path = /usr/bin/php</pre>

おお、無事にphpファイルの中身が表示された上に、色までつきやがった。いわゆるシンタックスハイライトってやつだ。
どうやら隣のenscriptというやつも設定してやれば、同様に他の種類のファイルもシンタックスハイライターしてくれるっぽいので、ついでにインストールしてやる。

<pre class="code">$ sudo aptitude install enscript</pre>

これも一応パスを書く。

<pre class="code">[mimeviewer]
enscript_path = /usr/bin/enscript
php_path = /usr/bin/php</pre>

色のカスタマイズ等は、code.cssを自分で弄るみたい。細かいことはtracの初期ページにきちんと書いてあった。tracはドキュメントがしっかりしてるなあ。おしまい。