+++
mt_entry_id = 66
date = "2006-12-13T23:02:44+09:00"
title = "FaviconManager 0.1"
categories = []

+++

Movable Typeの管理画面からFaviconを設定できるプラグインを作りました。

<a href="http://blog.aklaswad.com/FaviconManager0.1.tar.gz">FaviconManager0.1.tar.gz</a>
<a href="http://blog.aklaswad.com/FaviconManager0.1.zip">FaviconManager0.1.zip</a>

一般的には、ブログにFaviconを埋め込む場合、テンプレートをカスタマイズして実現していたと思います。
ですがその場合、あっちもこっちもテンプレートを弄らなければならず、煩雑な作業が必要でした。
そこで、このプラグインでは新規にブログを作成する際に自動的にテンプレートを書き換えるように設計しました。

前々回エントリーの<a href="http://blog.aklaswad.com/2006/000063.html">Movable Type の管理画面にfaviconを設定するプラグイン</a>の機能も引き継いでいます。
<!--more--><h3>インストール方法</h3>
ファイルを解凍して、「FaviconManager」ディレクトリを丸ごと、Movable Type の「plugins」ディレクトリにアップロードしてください。

<h3>準備</h3>
あらかじめ、faviconとして利用できる画像ファイルを、ftpやMovable Typeの「ファイルのアップロード」などを使用してサーバーにアップロードしてください。

<h3>テンプレートにfaviconのリンクを挿入</h3>
新規ブログを作成する場合は、自動的にテンプレートにfaviconへのリンクが挿入されます。

既存のブログにfaviconへのリンクを挿入することもできます。
システム・メニュー内、ブログ一覧の「その他の操作」に「テンプレートにfaviconを追加」というメニューが追加されているので、リンクを追加したいブログを選択して「テンプレートにfaviconを追加」を実行してください。

※テンプレートをカスタマイズされている場合、ブログのテンプレート書き換えの際に、書き換えに失敗する可能性もあります。その場合は、全てのHTMLファイルを出力するテンプレートのhead内に以下のテンプレートを挿入してください。

<pre class="code">&lt;MTHasFavicon&gt;&lt;link rel="shortcut icon" href="&lt;$MTFaviconURL$&gt;" /&gt;&lt;/MTHasFavicon&gt;</pre>

<h3>faviconを登録</h3>
システム、あるいは各ブログの「プラグイン」メニューからFaviconManagerの「設定を表示」を選び、faviconの画像ファイルのURLアドレスを指定してください。

ブログのメニューでは、各ブログで使用するfaviconを指定できます。

システムのメニューでは、各ブログでの指定がない場合に使用するfaviconと、管理画面のfaviconを指定できます。

ブログのfaviconを設定、変更した場合、ブログ全体の再構築を行ってください。

<dl><dt>todo:</dt><dd><ul><li>ダイナミック・パブリッシングに対応</li><li>各種フィードのテンプレート書き換えに対応</li></dd><dl>