+++
mt_entry_id = 373
date = "2008-01-28T21:50:56+09:00"
title = "hack-a-thonに行って来ました。"
categories = []

+++

SixApartさんにお邪魔して、MTハッカソンに参加させていただきました。
前回も参加したので、なんとなくわかっていたのですが、まあ、本当にひたすらハックする集まり。
誰もが(普段以上に)黙々とハックしておりました。

勿論、名だたるMTハッカーが集まっているのでちょっとした質問議論から大いに盛り上がることもあり。<a href="http://as-is.net/blog/">(o)</a>さんがホワイトボードにメモしながら説明している風景などは、見ていて胸に来るものがありました!<!--more-->
前回は変なところでつまずいて成果物なしだったのですが、今回は一応動くところまで行き、皆さんの前で発表してきました。発表風景は<a href="http://www.movabletype.jp/blog/report_mt_hack-a-thon_080126.html">こんな感じ</a>です。120%男前に撮ってくださった<a href="http://2xup.org/">2xup</a>のkaminogoyaさんに超感謝です。今度フルサイズで下さい。

帰宅後、phpで動かなかった箇所を修正した(というか、次の日起きて試したらなぜか動いていた)のが、以下のプラグインです。

<a href="http://blog.aklaswad.com/mtplugins/assetthumbnailplus.html">blog.aklaswad.com: AssetThumbnailPlus</a>

以下、TechMemo。
なぜか、MT本体のコードにすでにそのままの動作が組み込まれており、やることは、テンプレートタグが呼ばれた際に、必要なフラグを右から左に渡してやることだけ。
タグのハンドラ関数をこぴぺして一行加えて、それを、<a href="http://www.sixapart.jp/movabletype/news/2007/09/18-1400.html">コアタグをオーバーライドする形で実行する</a>だけでした。超楽勝。

だかしかし、それはPerlでのお話。
ダイナミックパブリッシングのコードにはこれは含まれておらず、その辺はゴニョゴニョしました。また、phpでのコアタグのオーバーライドについてはほとんど資料が無く、smartyのリファレンスを適当に見ながら動くようにしました。
init.HOGEHOGE.phpという形でphpディレクトリの中においておくと初期化時にロードしてくれるので、その中でregister_functionとしてみました。一応動いてはいるのですが、これでいいのか良くわかりません＞＜
また、一行、絶対に必要だと思われるrequireOnceの行が最後まで動かず、コメントアウトしたままです。プラグインをロードするタイミングについて勘違いしているのかしら。よくわかりません＞＜

<a href="http://www.luckypines.com/mt/">fumiakiy</a>さんにもその辺を伺ったところ、phpでのコアタグの上書きはあまり例が無いので、手法を確立するかMT.phpにAPIを追加してコミットしてくれとの事。
だがしかし、俺はPHPは全然わからないので、誰かお願いします＞＜


唐突なまとめ。
ハッカソンって本当に良いものですね。普段はコード書く時間が仕事中/オフ中問わずあまり取れないので、がりがりコード書けてすげえ楽しかったです。今後は4半期に一度開催したいとの事。超楽しみです。