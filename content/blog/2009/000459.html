+++
mt_entry_id = 459
date = "2009-10-11T23:24:23+09:00"
title = "TagOverride"
categories = []

+++

勢いで書きました。後悔はしてません。
MTML自身で、既存のMTタグの動作を上書きする事ができるプラグインです。使い道はちょっと未知数ですが、なんとなく役に立つ使い方も出来るのでは無いかと言う気がします。役に立つと良いなあ。。。

現在の所、MT5.x 専用です。最新版は、以下のページからダウンロードできます。

<ul>
	<li><a href="http://github.com/aklaswad/MT-TagOverride">http://github.com/aklaswad/MT-TagOverride</a></li>
</ul>

<!--more-->
このプラグインをインストールすると、以下の二つのテンプレートタグが利用可能になります。

<h3>&lt;mt:TagOverride&gt;</h3>
タグの動作を上書きするためのブロックタグです。
このブロックの実行後にname属性で指定したタグが呼び出された場合、元々のタグの実行結果の代わりに、このブロックの内側のテンプレートの実行結果が表示されるようになります。

<h4>利用可能なモディファイア</h4>

<dl><dt>name</dt>
<dd>上書きするタグの名前を指定します。</dd>
</dl>

例: このブロックが実行されると、以降、どのエントリーでも&lt;EntryTitle&gt;タグの実行結果が「トントリー」になります。
<pre class="code">&lt;mt:TagOverride name=&quot;EntryTitle&quot;&gt;トントリー&lt;/mt:TagOverride&gt;</pre>

<h4>利用可能な変数</h4>
上書き後にタグが呼び出された場合、そのタグに設定されたモディファイアの値が、変数"args"にハッシュとして設定されています。これらの値を操作/上書きする事で、タグの動作を変更できます。

例
以下のブロックを実行すると、以降、すべての&lt;mt:Entries&gt;タグのlimitモディファイアが自動的に三倍になり、沢山のエントリーを表示できます。

<pre class="code">&lt;mt:TagOverride name=&quot;Entries&quot;&gt;
　　　　&lt;mt:if var=&quot;args&quot; key=&quot;limit&quot;&gt;
　　　　　　　　&lt;mt:setvarblock name=&quot;args&quot; key=&quot;limit&quot;&gt;&lt;mt:var name=&quot;args&quot; key=&quot;limit&quot; op=&quot;*&quot; value=&quot;3&quot;&gt;&lt;/mt:setvarblock&gt;
　　　　&lt;/mt:if&gt;
　　　　&lt;mt:SuperTag&gt;
&lt;/mt:TagOverride&gt;</pre>

<h3>&lt;mt:SuperTag&gt;</h3>
TagOverrideの内側で、上書き前のタグを呼び出すファンクションタグです。上書き前のタグの実行結果が返ってきます。

例
以下のブロックを実行すると、以降、すべての&lt;mt:EntryTitle&gt;タグの出力の末尾にidが表示されるようになります。

<pre class="code">&lt;mt:TagOverride name=&quot;EntryTitle&quot;&gt;&lt;mt:SuperTag&gt;(&lt;mt:EntryID&gt;)&lt;/mt:TagOverride&gt;</pre>

<h3>既知の問題</h3>
<ul>
	<li>多重にオーバーライドできないようです。</li>
</ul>
